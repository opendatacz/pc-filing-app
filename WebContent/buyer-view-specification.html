<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Wealh of Nation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">

<!-- Le styles -->
<link href="./bootstrap/css/bootstrap.css" rel="stylesheet">
<link href="./bootstrap/css/won.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet">
<style type="text/css">
body {
	padding-top: 60px;
	padding-bottom: 40px;
}

.sidebar-nav {
	padding: 9px 0;
}

.activities tr td {
	padding-top: 20px;
	padding-bottom: 20px;
}

#view label {
	font-weight: bold !important;
	float: left;
	margin-right: 10px;
	width: 20%;
}

.property {
	width: 100%;
	float: left;
}
</style>
<link href="./bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
      	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
   	<![endif]-->
</head>

<body>

	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container-fluid">
				<a class="btn btn-navbar" data-toggle="collapse"
					data-target=".nav-collapse"> <span class="icon-bar"></span> <span
					class="icon-bar"></span> <span class="icon-bar"></span>
				</a> <a class="brand" href="#">PC Filing App <sup><i>with Product Ontologies</i></sup></a>
				<div class="nav-collapse collapse">
					<p class="navbar-text pull-right">
						Logged in as <a id="username" href="#" class="navbar-link"></a> <a
							href="SystemManager?action=logout&forward=.%2F%3Ft%3Dinfo%26m%3D%3Cstrong%3EYou%20have%20been%20successfully%20logged%20out.%3C%2Fstrong%3E"
							class="navbar-link" style="margin-left: 1em"><i
							class="icon-off icon-white"></i></a>
					</p>
					<ul class="nav">
						<li><a href="#" id="enableGuide" onclick="userHelper('on')">Help</a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>

	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span2">
				<div class="well sidebar-nav">
					<ul class="nav nav-list">
						<li><a href="buyer-dashboard.html"><i class="icon-home"></i>&nbsp;&nbsp;&nbsp;Dashboard</a></li>
						<li class="divider"></li>
						<li class="nav-header">My calls for tenders</li>
						<li><a href="buyer-prepared.html">Calls in preparation</a></li>
						<li><a href="buyer-published.html">Published calls</a></li>
						<li><a href="buyer-cancelled.html">Cancelled calls</a></li>
						<li class="divider"></li>
						<li><a href="buyer-create-event.html" class="btn btn-small"
							style="margin-left: 10px; margin-right: 10px;">Create call</a></li>
						<li class="divider"></li>
						<li class="nav-header">My contracts</li>
						<li><a href="buyer-awarded.html">Awarded contracts</a></li>
						<li><a href="buyer-completed.html">Completed contracts</a></li>
						<li><a href="buyer-withdrawn.html">Withdrawn contracts</a></li>
						<li class="divider"></li>
						<li class="nav-header">Search public cloud</li>
						<li class="disabled"><a href="#">Search calls for tenders</a></li>
						<li class="disabled"><a href="#">Search contracts</a></li>
						<li class="disabled"><a href="#">Search suppliers</a></li>
					</ul>
				</div>
			</div>

			<div class="span8">


				<div style="text-align: center;" id="progressbar">
					<br> <img src="images/progressbar.gif" />
				</div>

				<div id="view" style="display: none">

					<h3>
						Detailed specification for '<span style="display: inline;"
							id="specTitle"></span>'
					</h3>

					<div id="viewContent"></div>
				</div>

			</div>

			<div class="span2">
				<div class="box">
					<div class="box-header">
						<h2>My Stats</h2>
						<div class="box-icon">
							<a href="#" id="statsHide" class="btn-close"> <i
								onclick="userStats('true');" class="icon-plus"></i> <i
								onclick="userStats('false');" class="icon-minus hide"></i>
							</a> <a href="#" class="btn-close"><i class="icon-remove"></i></a>
						</div>
					</div>
					<div class="box-content">
						<table class="table table-condensed hide" id="statsTable">
							<tr id="statsPrepared">
								<td>Calls in preparation</td>
								<td>0</td>
							</tr>
							<tr id="statsPublished">
								<td>Published calls</td>
								<td>0</td>
							</tr>
							<tr id="statsCancelled">
								<td>Cancelled calls</td>
								<td>0</td>
							</tr>
							<tr id="statsAwarded">
								<td>Awarded contracts</td>
								<td>0</td>
							</tr>
							<tr id="statsCompleted">
								<td>Completed contracts</td>
								<td>0</td>
							</tr>
							<tr id="statsWithdrawn">
								<td>Withrawn contracts</td>
								<td>0</td>
							</tr>
						</table>
					</div>
				</div>
			</div>

		</div>

	</div>

	<!-- Le javascript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="./bootstrap/js/jquery.js"></script>
	<script src="./bootstrap/js/bootstrap-transition.js"></script>
	<script src="./bootstrap/js/bootstrap-alert.js"></script>
	<script src="./bootstrap/js/bootstrap-modal.js"></script>
	<script src="./bootstrap/js/bootstrap-dropdown.js"></script>
	<script src="./bootstrap/js/bootstrap-scrollspy.js"></script>
	<script src="./bootstrap/js/bootstrap-tab.js"></script>
	<script src="./bootstrap/js/bootstrap-tooltip.js"></script>
	<script src="./bootstrap/js/bootstrap-popover.js"></script>
	<script src="./bootstrap/js/bootstrap-button.js"></script>
	<script src="./bootstrap/js/bootstrap-collapse.js"></script>
	<script src="./bootstrap/js/bootstrap-carousel.js"></script>
	<script src="./bootstrap/js/bootstrap-typeahead.js"></script>

	<script src="js/cpv-codes.js"></script>
	<script src="js/locations.js"></script>
	<script src="js/functions.js"></script>
	<script src="js/sessionstorage.1.4.js"></script>
	<script src="js/toolsBuyer.js"></script>
	<script src="js/script.js"></script>
	<script src="js/table.js"></script>

	<script type="text/javascript">
		$(window).ready(function() {
			fillEvent();
		});

		function fillEvent() {
			var address = "FormApp?action=viewSpecification&specificationURI="
					+ sessionStorage.specURI;

			$
					.getJSON(
							address,
							function(data) {
								if (data == null || data.length == 0) {
									sessionStorage.clear();
									window.location.href = "./";
								} else {
									$('#specTitle').html(data.Name.name);
									content = "<div class=\"property\"><label>Description:</label><span>"
											+ data.Name.description
											+ "</span></div>";

									content += "<div class=\"property\"><label>Inventory level:</label><span>"
											+ data['Inventory level'].hasValueInteger
											+ " "
											+ data['Inventory level'].hasUnitOfMeasurement
											+ "</span></div>";
									var keys = [];
									for ( var key in data) {
										if (key != "Name"
												&& key != "Inventory level") {
											console.log(data["" + key + ""]);

											if (data["" + key + ""]
													.hasOwnProperty("hasValue"))

												content += "<div class=\"property\"><label>"
														+ key
														+ ":</label><span>"
														+ data["" + key + ""].hasValue
														+ " "
														+ data["" + key + ""].hasUnitOfMeasurement;
											else if (data["" + key + ""]
													.hasOwnProperty("hasMinValue"))

												content += "<div class=\"property\"><label>"
														+ key
														+ ":</label><span> from "
														+ data["" + key + ""].hasMinValue
														+ " to "
														+ data["" + key + ""].hasMaxValue
														+ " "
														+ data["" + key + ""].hasUnitOfMeasurement;

											else if (data["" + key + ""]
													.hasOwnProperty("hasValueInteger"))

												content += "<div class=\"property\"><label>"
														+ key
														+ ":</label><span>"
														+ data["" + key + ""].hasValueInteger
														+ " "
														+ data["" + key + ""].hasUnitOfMeasurement;
											else if (data["" + key + ""]
													.hasOwnProperty("hasMinValueInteger"))

												content += "<div class=\"property\"><label>"
														+ key
														+ ":</label><span> from "
														+ data["" + key + ""].hasMinValueInteger
														+ " to "
														+ data["" + key + ""].hasMaxValueInteger
														+ " "
														+ data["" + key + ""].hasUnitOfMeasurement;
											else if (data["" + key + ""]
													.hasOwnProperty("hasValueFloat"))

												content += "<div class=\"property\"><label>"
														+ key
														+ ":</label><span>"
														+ data["" + key + ""].hasValueFloat
														+ " "
														+ data["" + key + ""].hasUnitOfMeasurement;
											else if (data["" + key + ""]
													.hasOwnProperty("hasMinValueFloat"))

												content += "<div class=\"property\"><label>"
														+ key
														+ ":</label><span> from "
														+ data["" + key + ""].hasMinValueFloat
														+ " to "
														+ data["" + key + ""].hasMaxValueFloat
														+ " "
														+ data["" + key + ""].hasUnitOfMeasurement;
											else if (data["" + key + ""]
													.hasOwnProperty("datatypeValue"))

												content += "<div class=\"property\"><label>"
														+ key
														+ ":</label><span>"
														+ data["" + key + ""].datatypeValue;
											else if (data["" + key + ""]
													.hasOwnProperty("valueReference"))

												content += "<div class=\"property\"><label>"
														+ key
														+ ":</label><span>"
														+ data["" + key + ""].valueReference;

											content += "</span></div>";
										}
									}
									$('#viewContent').html(content);
								}

								$("#progressbar").hide();
								$("#view").fadeIn();
							});
		}
	</script>

</body>
</html>